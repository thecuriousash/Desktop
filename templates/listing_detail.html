{% extends "base.html" %}
{% block content %}
<div class="animate-up">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 mb-24">
        <!-- Image Gallery -->
        <div class="glass p-4 rounded-[48px] aspect-square overflow-hidden group relative">
            <img src="{{ get_image_url(item.image) }}" alt="{{ item.title }}"
                class="w-full h-full object-cover rounded-[40px] group-hover:scale-105 transition-transform duration-700">
            {% if item.is_sold == 1 %}
            <div class="absolute inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center">
                <span
                    class="font-brand text-5xl font-bold italic text-white/20 tracking-widest uppercase -rotate-12 border-8 border-white/10 px-8 py-4">SOLD
                    OUT</span>
            </div>
            {% endif %}
        </div>

        <!-- Info -->
        <div class="flex flex-col justify-center">
            <div class="mb-8">
                <p class="text-[10px] font-black text-indigo-400 uppercase tracking-[0.4em] mb-4">Official Campus
                    Listing</p>
                <h1 class="font-brand text-6xl md:text-7xl font-bold italic tracking-tighter mb-4 leading-none">{{
                    item.title }}</h1>
                <p class="text-4xl font-brand font-bold italic text-white/90">₹{{ item.price }}</p>
            </div>

            <div class="flex items-center gap-6 mb-12">
                <div class="flex items-center gap-3">
                    <div
                        class="w-10 h-10 rounded-full bg-indigo-500/10 flex items-center justify-center text-indigo-400">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                        </svg>
                    </div>
                    <div>
                        <p class="text-[10px] font-bold text-slate-500 uppercase tracking-widest">Listing By</p>
                        <p class="text-xs font-bold text-white">{{ item.seller_display }}</p>
                    </div>
                </div>
                <div class="h-8 w-px bg-white/5"></div>
                <div>
                    <p class="text-[10px] font-bold text-slate-500 uppercase tracking-widest">Brand / Cond.</p>
                    <p class="text-xs font-bold">{{ item.brand or 'Campus Item' }}</p>
                </div>
            </div>

            <div class="space-y-4">
                <a href="https://wa.me/{{ item.whatsapp }}"
                    class="w-full btn-primary py-6 rounded-3xl font-bold text-xs uppercase tracking-[0.2em] shadow-2xl flex items-center justify-center gap-3">
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                        <path
                            d="M12.031 6.172c-3.181 0-5.767 2.586-5.768 5.766-.001 1.298.38 2.27 1.019 3.284l-.582 2.166 2.234-.58c1.012.55 2.04.888 3.103.889h.001c3.181 0 5.767-2.586 5.768-5.766l-.001-5.759zm5.285 8.113c-.247.612-1.255 1.156-1.741 1.23-.462.066-.933.118-2.618-.477-2.156-.76-3.536-2.933-3.642-3.077-.107-.145-.873-1.159-.873-2.21 0-1.05.514-1.58.743-1.808.228-.227.495-.34.66-.34.165 0 .33.01.474.02.144.01.332-.01.516.425.186.44.636 1.545.69 1.658.055.114.092.247.016.402-.075.152-.113.245-.226.377-.113.13-.238.29-.34.39-.114.113-.23.238-.1.464.13.226.576.953 1.238 1.54.851.758 1.565.992 1.79.1.226.113.454.048.567.227.113.188.423.518.592.707.169.19.339.4.453.612.113.21.113.407.113.612z" />
                    </svg>
                    Contact via WhatsApp
                </a>
                <p class="text-[10px] text-center text-slate-600 font-bold uppercase tracking-[0.3em]">Direct Pickup
                    Only</p>
            </div>
        </div>
    </div>

    <!-- Recommendations -->
    {% if other_products %}
    <div class="mb-24">
        <h2 class="font-brand text-3xl font-bold italic mb-10 text-slate-500">More by this seller.</h2>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
            {% for other in other_products %}
            <a href="/listing/{{ other.id }}" class="glass-card p-6 rounded-[32px] group">
                <div class="aspect-square bg-slate-900 rounded-2xl overflow-hidden mb-4">
                    <img src="{{ get_image_url(other.image) }}" alt="{{ other.title }}"
                        class="w-full h-full object-cover group-hover:scale-110 transition-transform">
                </div>
                <p class="text-[10px] text-slate-500 uppercase font-bold tracking-widest mb-1">{{ other.seller_display
                    }}</p>
                <h4 class="font-bold text-sm truncate">{{ other.title }}</h4>
                <p class="text-indigo-400 font-bold text-xs mt-1">₹{{ other.price }}</p>
            </a>
            {% endfor %}
        </div>
    </div>
    {% endif %}

    <!-- Info Card -->
    <div class="glass p-12 rounded-[48px] bg-indigo-500/5 border-indigo-500/10">
        <div class="max-w-3xl">
            <h3 class="font-brand text-2xl font-bold italic mb-6">Safe Trading Policy.</h3>
            <p class="text-slate-400 text-sm leading-relaxed mb-6">
                All transactions on HUSTL are peer-to-peer. We recommend meeting in common campus areas like the
                cafeteria or library. Always verify the item before payment.
            </p>
            <div class="flex gap-4">
                <span
                    class="text-[10px] font-black uppercase bg-white/5 px-4 py-2 rounded-full text-slate-500">#StudentSafe</span>
                <span
                    class="text-[10px] font-black uppercase bg-white/5 px-4 py-2 rounded-full text-slate-500">#NoScams</span>
            </div>
        </div>
    </div>
</div>
{% endblock %}